{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://seis.sc.edu/seismetadata.schema.json",
  "title": "MS3 Extra Header",
  "description": "Standard metadata about a seismogram.",
  "$defs": {
    "Marker": {
      "type": "object",
      "properties": {
        "time": {
          "type":"string"
        },
        "name": {
          "type": "string"
        },
        "amp": {
          "type": "number"
        }
      },
      "required": ["time", "name"]
    },
    "Station": {
      "type": "object",
      "properties": {
        "la": {
          "description": "latitude in degrees",
          "type": "number"
        },
        "lo": {
          "description": "longitude in degrees",
          "type": "number"
        },
        "elev": {
          "description": "elevation in meters",
          "type": "number"
        },
        "dp": {
          "description": "depth below surface in meters",
          "type": "number"
        }
      },
      "required": ["la", "lo"]
    },
    "Origin": {
      "type": "object",
      "properties": {
        "time": {
          "description": "origin time as ISO8601",
          "type": "string",
          "format": "date-time"
        },
        "la": {
          "description": "latitude in degrees",
          "type": "number"
        },
        "lo": {
          "description": "longitude in degrees",
          "type": "number"
        },
        "dp": {
          "description": "depth in kilometers",
          "type": "number"
        },
        "mag": {
          "description": "magnitude value",
          "type": "number"
        },
        "magtype": {
          "description": "magnitude type",
          "type": "string"
        }
      },
      "required": ["time", "la", "lo", "dp"]
    },
    "Bag": {
      "type": "object",
      "properties": {
        "y": {
          "description": "timeseries amplitude",
          "type": "object",
          "properties": {
            "si": {
              "description": "si units of the timeseries amplitude, ex m/s m/s2",
              "type": "string"
            }
          }
        },
        "st": {
          "description": "receiver station",
          "$ref": "#/$defs/Station"
        },
        "ev": {
          "description": "source earthquake",
          "$ref": "#/$defs/Origin"
        },
        "path": {
          "description": "path between source and receiver",
          "type": "object",
          "properties": {
            "gcarc": {
              "description": "great circle arc distance in degrees, for uses when only distance is needed",
              "type": "number"
            },
            "az": {
              "description": "great circle azimuth degrees from event to station, for uses when only distance is needed",
              "type": "number"
            },
            "baz": {
              "description": "great circle back azimuth in degrees back from station to event, for uses when only distance is needed",
              "type": "number"
            }
          }
        },
        "mark": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Marker"
          }
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "bag": {
        "description": "Common seismic values that are useful to embed in header",
        "$ref": "#/$defs/Bag"
    }
  }
}
